;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;Function : car movement using arrows
;author : -NoName  && Ahmed Hamdy
;Date : 28-11-2023
.model COMPACT 
.STACK 1024
.DATA
key DB 42H      ;key pressed
direction DB ?     ;direction
curXLoc DW 0  ;the current col
curYLoc DW 0  ;the current row

UP EQU 57h
DOWN EQU 53h
LEFT EQU 41h
RIGHT EQU 44h
BackGroundColor EQU 0
CarColor EQU 0FH
Speed equ 1
imgW equ 5
imgH equ 5
img DB 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30 
 DB 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30 
 DB 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30 
 DB 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30 
 DB 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30 
 DB 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 27, 25, 26, 25, 26, 25, 26, 25, 25, 27, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30 
 DB 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30 
 DB 28, 26, 26, 22, 19, 19, 19, 19, 19, 19, 19, 19, 22, 26, 26, 28, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30 
 DB 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 28, 26, 23, 21, 20, 19, 224, 18, 18, 18, 18, 18, 18, 224, 19, 20, 20, 23 
 DB 28, 28, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30 
 DB 30, 30, 30, 30, 27, 26, 23, 21, 21, 20, 19, 19, 18, 18, 18, 18, 18, 18, 18, 18, 224, 19, 19, 21, 22, 24, 28, 29, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30 
 DB 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 27, 23, 21, 21, 21, 20, 19, 18, 18, 18, 17, 17, 17 
 DB 17, 17, 17, 18, 18, 18, 18, 19, 20, 21, 23, 24, 28, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30 
 DB 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 27, 23, 22, 21, 20, 19, 224, 18, 18, 17, 17, 20, 22, 22, 22, 22, 20, 17, 17, 17, 18, 18, 19, 227, 20, 21, 24, 28, 30, 30 
 DB 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 28, 23, 22, 21, 20, 19, 18 
 DB 18, 18, 17, 17, 19, 24, 28, 29, 29, 29, 24, 20, 17, 17, 17, 18, 238, 19, 20, 20, 22, 24, 29, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30 
 DB 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 29, 23, 22, 21, 20, 19, 18, 18, 17, 17, 17, 17, 22, 22, 22, 22, 23, 23, 22, 22, 17, 17, 18, 118 
 DB 117, 237, 19, 20, 21, 22, 25, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30 
 DB 28, 23, 21, 20, 19, 18, 18, 17, 17, 17, 17, 17, 19, 19, 19, 19, 19, 20, 19, 20, 17, 17, 215, 117, 117, 143, 19, 20, 21, 22, 24, 28, 30, 30, 30, 30, 30, 30, 30, 30 
 DB 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 29, 23, 22, 21, 227, 224, 18, 17, 17, 17, 17, 17, 19, 26, 25, 25, 25 
 DB 26, 26, 25, 26, 19, 17, 17, 215, 118, 240, 19, 20, 20, 22, 23, 25, 29, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30 
 DB 30, 30, 30, 30, 30, 30, 30, 27, 22, 21, 21, 19, 18, 18, 17, 17, 17, 17, 19, 26, 31, 30, 28, 28, 28, 28, 30, 31, 26, 19, 17, 17, 18, 18, 19, 19, 20, 21, 23, 25 
 DB 28, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 29, 22, 22, 22, 20, 19, 18, 17, 17, 17 
 DB 17, 17, 25, 29, 28, 29, 26, 26, 26, 25, 30, 28, 29, 25, 17, 17, 18, 18, 19, 19, 20, 21, 23, 24, 25, 29, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30 
 DB 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 29, 22, 22, 22, 20, 239, 18, 17, 17, 17, 17, 17, 25, 23, 18, 23, 29, 30, 30, 29, 24, 18, 23, 25, 17, 17 
 DB 18, 18, 19, 19, 20, 21, 23, 24, 25, 29, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 29, 22 
 DB 22, 22, 142, 214, 18, 17, 17, 17, 17, 17, 25, 24, 17, 17, 24, 31, 31, 25, 17, 17, 24, 25, 17, 17, 18, 18, 238, 237, 20, 22, 23, 25, 25, 29, 30, 30, 30, 30, 30, 30 
 DB 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 29, 22, 22, 22, 20, 240, 18, 17, 17, 17, 17, 17, 24, 29, 24, 231, 25, 31 
 DB 31, 26, 231, 23, 29, 24, 17, 17, 18, 214, 117, 141, 21, 22, 24, 25, 25, 29, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30 
 DB 30, 30, 30, 30, 30, 30, 29, 22, 23, 22, 20, 224, 18, 17, 17, 17, 17, 17, 18, 24, 29, 29, 30, 31, 31, 30, 29, 29, 24, 18, 17, 17, 18, 214, 140, 140, 21, 23, 24, 26 
 DB 25, 29, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 29, 23, 23, 22, 20, 19, 18, 17, 17, 17 
 DB 17, 17, 17, 18, 24, 29, 29, 29, 29, 29, 29, 25, 18, 17, 17, 18, 18, 19, 20, 21, 22, 23, 25, 26, 26, 29, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30 
 DB 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 28, 22, 22, 21, 19, 18, 17, 17, 17, 17, 17, 18, 17, 232, 20, 20, 20, 20, 20, 20, 19, 18, 18, 18, 18 
 DB 18, 19, 20, 21, 22, 24, 25, 25, 29, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 29 
 DB 24, 22, 21, 227, 18, 17, 17, 17, 17, 19, 20, 20, 20, 237, 237, 20, 20, 20, 20, 20, 20, 20, 19, 18, 19, 227, 21, 22, 23, 25, 25, 26, 29, 30, 30, 30, 30, 30, 30, 30 
 DB 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 29, 29, 30, 30, 30, 30, 28, 28, 30, 30, 30, 30, 28, 23, 21, 20, 19, 18, 19, 20, 20, 22, 23, 23, 141, 117, 117, 164 
 DB 24, 24, 24, 23, 23, 23, 22, 20, 20, 20, 21, 22, 24, 25, 26, 27, 71, 29, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 23, 19, 23, 29 
 DB 29, 24, 18, 20, 28, 30, 30, 30, 71, 27, 24, 21, 20, 20, 22, 23, 23, 23, 20, 143, 117, 117, 117, 141, 142, 142, 141, 141, 141, 165, 164, 142, 117, 142, 20, 21, 23, 25, 29, 30 
 DB 29, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 29, 20, 16, 16, 20, 22, 17, 16, 17, 24, 30, 30, 30, 29, 29, 25, 21, 22, 23, 23, 165 
 DB 141, 141, 213, 118, 47, 117, 117, 117, 117, 117, 47, 46, 46, 46, 141, 117, 117, 117, 141, 22, 22, 25, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30 
 DB 30, 30, 30, 30, 25, 18, 16, 16, 16, 16, 16, 16, 18, 26, 30, 30, 30, 30, 24, 22, 23, 20, 142, 117, 117, 117, 117, 117, 46, 46, 46, 47, 117, 117, 47, 46, 46, 46, 117, 117 
 DB 117, 117, 141, 23, 22, 23, 29, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 26, 20, 16, 16, 16, 16, 16, 16, 24, 30, 29 
 DB 30, 29, 23, 22, 20, 118, 117, 117, 117, 117, 46, 46, 46, 46, 46, 46, 117, 117, 47, 46, 46, 47, 47, 46, 46, 47, 117, 21, 23, 23, 29, 30, 30, 30, 30, 30, 30, 30, 30, 30 
 DB 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 28, 20, 16, 16, 16, 16, 16, 23, 29, 71, 10, 95, 23, 22, 237, 118, 47, 117, 117, 46, 46, 45, 45, 45, 46, 46 
 DB 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 117, 142, 23, 23, 29, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 29, 20 
 DB 16, 16, 16, 16, 16, 20, 28, 10, 141, 27, 24, 22, 22, 141, 46, 46, 47, 46, 46, 45, 45, 45, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 46, 141, 23, 142, 71, 29 
 DB 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 27, 18, 16, 16, 16, 16, 16, 18, 27, 94, 95, 29, 28, 23, 23, 141, 46, 46 
 DB 46, 46, 46, 46, 45, 46, 46, 46, 45, 46, 46, 46, 46, 46, 46, 117, 142, 46, 141, 165, 167, 140, 46, 71, 29, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30 
 DB 30, 30, 30, 30, 30, 30, 24, 16, 16, 18, 17, 16, 16, 16, 24, 30, 30, 29, 71, 25, 23, 142, 141, 46, 140, 164, 140, 46, 46, 46, 46, 46, 46, 46, 46, 45, 45, 46, 46, 140 
 DB 165, 165, 142, 23, 27, 71, 71, 96, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 23, 16, 16, 24, 22, 16, 16, 16, 22, 30 
 DB 30, 71, 71, 71, 26, 26, 164, 143, 167, 23, 23, 164, 164, 164, 140, 46, 46, 46, 46, 46, 46, 46, 46, 140, 21, 23, 26, 28, 30, 29, 95, 30, 30, 30, 30, 30, 30, 30, 30, 30 
 DB 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 27, 20, 20, 28, 29, 21, 17, 17, 24, 30, 30, 95, 71, 71, 29, 30, 28, 27, 26, 24, 21, 22, 22, 22, 167, 141 
 DB 46, 46, 46, 46, 46, 140, 164, 27, 27, 28, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 29 
 DB 29, 30, 30, 29, 26, 26, 29, 30, 30, 30, 95, 29, 30, 30, 30, 30, 30, 28, 26, 26, 27, 26, 27, 27, 95, 70, 95, 70, 95, 27, 28, 30, 30, 30, 30, 30, 30, 30, 30, 30 
 DB 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30 
 DB 96, 95, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30 
 DB 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 95, 28, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30 
 DB 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30 
 DB 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30 
 DB 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30 
 DB 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30 
 DB 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30 
 DB 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30 
 DB 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30 
 DB 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30 
 DB 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30 
 DB 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30 
 DB 30, 30, 30, 30, 30, 30, 30, 31

erasePrevLoc MACRO
        LOCAL Start, Drawit, ENDING
        ;delete previous place (By Coloring its place with same backGround Color)
        PUSHF
        MOV AH,0Bh   	;set the configuration
	MOV CX, imgW  	;set the width (X) up to 64 (based on image resolution)
	MOV DX, imgH 	;set the hieght (Y) up to 64 (based on image resolution)
	mov DI, offset img  ; to iterate over the pixels
        jmp Start  
        Drawit:
	MOV AH,0Ch   	;set the configuration to writing a pixel
        ADD CX, curXLoc  	;set the width (X) up to 64 (based on image resolution)
	ADD DX, curYLoc 	;set the hieght (Y) up to 64 (based on image resolution)
        mov al, 0H     ; color of the current coordinates
	MOV BH,00h   	;set the page number
	INT 10h       	;Avoid drawing before the calculations
        SUB CX, curXLoc
        SUB DX, curYLoc
        Start:
        inc DI
	DEC Cx       	;  loop iteration in x direction
	JNZ Drawit      	;  check if we can draw c urrent x and y and excape the y iteration
	mov Cx, imgW 	;  if loop iteration in y direction, then x should start over so that we sweep the grid
	DEC DX       	;  loop iteration in y direction
	JZ  ENDING   	;  both x and y reached 00 so end program
	Jmp Drawit
        ENDING:
        POPF
ENDM

delay MACRO
        LOCAL Loopb, loopa
        PUSHF
        ;delete previous place (By Coloring its place with same backGround Color)
        mov ax, Speed
        loopa: mov bx, Speed
        loopb: dec bx
        jnz loopb
        dec ax
        jnz loopa
        POPF
ENDM    delay

emptyBuffer MACRO
        PUSHF
        mov ah, 0
        int 16h
        POPF
ENDM

.CODE
MAIN PROC FAR
        MOV AX,@DATA
        MOV DS,AX

        mov [curXLoc],160
        mov [curYLoc],100

        ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
        ;;; Inilaizing Video Mode ;;;;
        ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
        mov ax, 013h    ;
	mov bx, 0100h    ; 640x400 screen graphics mode
	INT 10h      	;execute the configuration
	looop:
	MOV AH,0Bh   	;set the configuration
	MOV CX, imgW  	;set the width (X) up to 64 (based on image resolution)
	MOV DX, imgH 	;set the hieght (Y) up to 64 (based on image resolution)
	mov DI, offset img  ; to iterate over the pixels
	jmp Start  
        Drawit:
	MOV AH,0Ch   	;set the configuration to writing a pixel
        ADD CX, curXLoc  	;set the width (X) up to 64 (based on image resolution)
	ADD DX, curYLoc 	;set the hieght (Y) up to 64 (based on image resolution)
        mov al, [DI]     ; color of the current coordinates
	MOV BH,00h   	;set the page number
	INT 10h       	;Avoid drawing before the calculations
        SUB CX, curXLoc
        SUB DX, curYLoc
        Start:
        inc DI
	DEC Cx       	;  loop iteration in x direction
	JNZ Drawit      	;  check if we can draw c urrent x and y and excape the y iteration
	mov Cx, imgW 	;  if loop iteration in y direction, then x should start over so that we sweep the grid
	DEC DX       	;  loop iteration in y direction
	JZ  ENDING   	;  both x and y reached 00 so end program
	Jmp Drawit
        ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
        ; Inilaizing Location of Car ;
        ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
        ENDING:

        ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
        ; Get Key From Buff Then Decide Its Direction ;
        ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
        directionDecision:
        delay

        mov ah, 01H
        int 16H
        mov [key],al

        ;checks if key is up
        cmp [key],UP
        je moveUp
        ;checks if key is down
        cmp [key],DOWN 
        je moveDown
        ;checks if key is left
        cmp [key],LEFT
        je moveLeft
        ;checks if key is right
        cmp [key],RIGHT
        jne noPress
        jmp moveRight
        noPress:
        jmp directionDecision

        ;;;;;;;;;;;;;
        ; Moving UP ;
        ;;;;;;;;;;;;;
        moveUp:
                emptyBuffer
                erasePrevLoc
                ADD curYLoc,-1
                JMP LOOOP
        
        ;;;;;;;;;;;;;;;
        ; Moving DOWN ;
        ;;;;;;;;;;;;;;;
        moveDown:
                emptyBuffer
                ;erasePrevLoc
                ADD curYLoc,1
                JMP LOOOP

        ;;;;;;;;;;;;;;;;
        ; Moving LEFT  ;
        ;;;;;;;;;;;;;;;;
        moveLeft:
                ADD curXLoc,-1
                emptyBuffer
                ;erasePrevLoc
                JMP LOOOP
        
        ;;;;;;;;;;;;;;;;
        ; Moving RIGHT ;
        ;;;;;;;;;;;;;;;;
        moveRight:
                ADD curXLoc,1
                emptyBuffer
                ;erasePrevLoc
                JMP LOOOP

        HLT
MAIN ENDP 

END MAIN
